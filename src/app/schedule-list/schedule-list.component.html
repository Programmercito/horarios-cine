<div class="container">
  <div class="header">
    <div class="logo-section">
      <img src="/logo.png" alt="Cinema Bo Logo" class="logo">
      <h1 class="app-title">Cinema Bo</h1>
    </div>
  </div>
  
  <div class="navigation">
    <button class="nav-button back-button" (click)="goBack()">
      <span class="arrow">‚Üê</span>
      <span>Volver a cines</span>
    </button>
    <button class="nav-button refresh-button" (click)="refreshData()">
      <span class="refresh-icon">üîÑ</span>
      <span>Refrescar</span>
    </button>
  </div>
  
  <div class="content">
    <h2 class="page-title">{{ cinemaName }}@if (cinemaDate) {<span class="cinema-date"> - {{ cinemaDate }}</span>}</h2>
    
    @if (ciudadesFiltradas.length > 0) {
      <div class="schedules-container">
        @for (ciudad of ciudadesFiltradas; track ciudad.ciudad) {
          <div class="city-section">
            <div class="city-header">
              <h3 class="city-name">{{ ciudad.ciudad }}</h3>
            </div>
            
            <div class="movies-grid">
              @for (pelicula of ciudad.peliculas; track pelicula.id) {
                <div class="movie-card">
                  <div class="movie-header">
                    <h4 class="movie-title">{{ pelicula.titulo }}</h4>
                    <button class="movie-info-btn" (click)="loadMovieData(pelicula.id)" title="Ver informaci√≥n de la pel√≠cula">
                      <img src="/info.svg" alt="Info" class="info-icon">
                    </button>
                  </div>
                  
                  <div class="schedules-grid">
                    @for (horario of pelicula.horarios; track horario.horario) {
                      <div class="schedule-badge">
                        <div class="schedule-time">{{ horario.horario }}</div>
                        <div class="schedule-details">
                          <span class="schedule-format">{{ horario.formato }}</span>
                          <span class="schedule-language">{{ horario.idioma }}</span>
                        </div>
                      </div>
                    }
                  </div>
                </div>
              }
            </div>
          </div>
        }
      </div>
    } @else {
      <div class="no-data">
        <p>No se encontraron horarios para esta ubicaci√≥n</p>
        <p class="no-data-subtitle">Verifica la conexi√≥n o intenta m√°s tarde</p>
      </div>
    }
  </div>

  <!-- Movie Popup (vac√≠o por ahora) -->
  @if (showMoviePopup) {
    <div class="movie-popup-overlay" (click)="showMoviePopup = false">
      <div class="movie-popup" (click)="$event.stopPropagation()">
        <!-- Mostrar t√≠tulo de la pel√≠cula -->
        @if (currentPeli) {
          <h2>{{ currentPeli.titulo }}</h2>
        } @else {
          <p>No se encontr√≥ informaci√≥n de la pel√≠cula</p>
        }
      </div>
    </div>
  }
</div>
